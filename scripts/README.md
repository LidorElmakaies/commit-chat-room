# LiveKit Token Generator

Standalone script to generate LiveKit access tokens for development and testing.

## Setup

### 1. Install dependencies

```bash
cd scripts
npm install
```

### 2. Configure credentials

```bash
# Copy the example env file
cp env.example .env

# Edit .env and add your real LiveKit credentials
# Get them from: https://cloud.livekit.io → Settings → API Keys
```

Your `.env` file should look like:

```env
LIVEKIT_API_KEY=APIAZPREtRb8D6G
LIVEKIT_API_SECRET=your_actual_secret_here
LIVEKIT_ROOM_NAME=Test1
MATRIX_USER_1=@lidor-the-programmer:matrix.org
MATRIX_USER_2=@lidor-the-programmer2:matrix.org
```

## Usage

Generate tokens (valid for 24 hours):

```bash
npm run generate
```

This will output a `TOKEN_MAP` that you can copy into `src/services/matrix/CallManager.ts`.

## Security Notes

⚠️ **IMPORTANT:**
- `.env` is in `.gitignore` - NEVER commit it
- `env.example` is safe to commit (no real secrets)
- In production, tokens should be generated by your backend server, not hardcoded in the frontend
- Tokens expire after 24 hours (TTL setting in the script)

## How It Works

1. Reads credentials from `.env`
2. Creates LiveKit Access Tokens using the official SDK
3. Generates tokens for two Matrix user accounts (for multi-device testing)
4. Outputs the `TOKEN_MAP` to copy into your CallManager

## Troubleshooting

**Error: Missing required environment variables**
- Make sure you created `.env` from `env.example`
- Make sure you filled in real values for `LIVEKIT_API_KEY` and `LIVEKIT_API_SECRET`

**Where do I get my LiveKit credentials?**
1. Go to https://cloud.livekit.io
2. Select your project
3. Go to Settings → API Keys
4. Copy the API Key and API Secret

